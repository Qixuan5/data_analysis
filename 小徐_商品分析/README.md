
# 小徐_商品分析

## 📌 项目概述

本项目基于京东电商平台，采集北京、上海、广州、深圳四城用户页面中的热销商品信息，对比分析热门品类、价格分布、用户评价与促销结构。通过爬虫技术提取 JSON 数据结构中的商品字段，结合分词、聚类、价格标准化与图表可视化，构建城市消费偏好与电商行为模型，支持城市画像、品牌策略和供需决策分析。



## 📁 文件结构

```
商品分析/
├── data/                           # 抓取的原始数据与清洗结果
├── crawl\_jd\_items.py              # 京东商品爬虫脚本（基于XHR接口）
├── clean\_price\_format.py          # 价格字段清洗与标准化
├── category\_keyword\_extract.py    # 类目关键词提取 + 商品分词
├── visualize\_items.py             # 商品类分析可视化脚本
├── cluster\_price\_comment.py       # 聚类模型：价格 × 评论 × 城市
└── README.md                      # 当前说明文档

````


## 🌐 数据来源与抓取方法

- 平台：京东搜索 API `https://search.jd.com/search`
- 参数：关键词 `热销` + 城市定向（Header中的区域 ID）
- 抓取方式：XHR 响应中的 `search_goods_list` 字段提取
- 城市：北京、上海、广州、深圳（定位参数调控）

### 📦 商品字段包括：

| 商品ID | 商品名 | 品类标签 | 价格 | 评论数 | 好评率 | 活动标识 | 城市标识 |
|--------|--------|----------|------|--------|--------|----------|----------|


## 🧼 数据清洗与处理

### 1. 价格字段清洗
- 多种价格格式清洗（如：折后价、促销价、￥符号等）
- 转换为 float 格式用于比较与聚类

### 2. 品类标准化
- 结合商品名分词与类目字段，提取主品类（如：数码、家电、食品、美妆等）
- 自定义关键词库 + TF-IDF 筛选规则

### 3. 评论字段转换
- 评论量字段统一量纲（如：1万+ → 10000）
- 好评率转化为百分数标准



## 📊 可视化与建模

### 🌆 城市内结构图表

| 图表类型 | 内容 | 意图 |
|----------|------|------|
| 热门商品分类条形图 | 商品数量Top品类 | 城市消费偏好 |
| 价格分布箱型图 | 单个城市价格结构 | 消费能力边界 |
| 好评率热力图 | 品类 × 评分 | 品质感知结构 |
| 评论量-价格散点图 | 异常识别 | 品类结构分化 |
| 聚类结果雷达图 | 品类结构聚类 | 高中低价格区间视图 |
| 品牌词云图 | 商品名词频 | 用户关注偏好 |
| 动态柱状图 | Top品类变化动画 | 用户兴趣迁移 |

### 🏙 城市间对比图表

| 图表 | 内容 | 用途 |
|------|------|------|
| 四城主品类雷达图 | 主品类数量结构 | 偏好聚类 |
| 四城平均价格 + 好评率散点图 | 定位高消费 vs 高好评城市 |
| 桑基图：品类 → 城市 → 价格区间 | 三元结构流 | 消费层级结构化解读



## 🧠 聚类建模模块

- 使用 `KMeans` 对四城商品进行：
  - 特征：价格 + 评论数 + 好评率
  - 聚类数：3（高价热评 / 中档稳定 / 低价高评）
- 输出结果为聚类分布图 + 品类结构分类图 + 各聚类中心坐标表



## 🏆 样例分析亮点

| 城市 | 主力品类 | 均价区间 | 评论密度 | 特征描述 |
|------|-----------|-----------|------------|-----------|
| 北京 | 数码、办公 | ￥300-￥600 | 高 | 单价高，质量敏感 |
| 上海 | 美妆、轻奢 | ￥200-￥500 | 中 | 时尚主导，品牌显著 |
| 广州 | 食品、生活 | ￥50-￥200  | 高 | 消费平价，好评率高 |
| 深圳 | 智能设备、健身 | ￥400-￥800 | 低 | 消费前沿，评论活跃度低 |



## ⚙ 运行方式

### 安装依赖

```bash
pip install requests pandas matplotlib seaborn wordcloud jieba scikit-learn
````

### 启动方式

```bash
python crawl_jd_items.py
python clean_price_format.py
python category_keyword_extract.py
python visualize_items.py
python cluster_price_comment.py
```


## 📘 License

本项目遵循 MIT License，数据源来自京东公开接口，仅用于研究与教学使用，禁止商业用途。
