
# 小徐_岗位分析

## 📌 项目简介

本项目基于 58 同城公开招聘信息，系统采集北京、上海、广州、深圳四个一线城市的岗位名称、薪资水平与福利信息，结合数据清洗、标准化与多维可视化，构建“岗位-薪酬-福利-空间”联动模型，揭示城市就业生态、薪资结构与福利覆盖差异。

## 📁 文件结构

```

小徐\_岗位分析/
├── data/                          # 抓取结果及清洗后数据
├── crawl\_jobs\_58.py              # 58同城爬虫脚本（含城市、区域循环）
├── clean\_salary\_fields.py        # 薪资字段正则清洗与标准化
├── analyze\_welfare\_missing.py    # 福利缺失项分析与可视化
├── visualize\_jobs.py             # 各类图表绘制逻辑
├── sankey\_cluster.py             # 岗位聚类+桑基图关系建模
└── README.md                     # 当前说明文档

````



## 🌐 数据采集说明

- 数据平台：58同城招聘页 `https://{city}.58.com/{area}/quanzhizhaopin`
- 目标城市：北京 / 上海 / 广州 / 深圳
- 抓取层级：
  - 列表页：职位、工资、标签链接
  - 详情页：完整岗位描述、10 项福利提取（如“五险一金、包住、年底双薪”等）
- 防封机制：设置随机间隔 `time.sleep(random.uniform())`，避免 IP 被禁

### 字段结构示例：

| 城市 | 地区 | 岗位名称 | 工资（月） | 福利字段（10项） |
|------|------|-----------|-------------|------------------|



## 🧼 数据清洗与预处理

### 1. 薪资字段标准化
- 正则提取形如 `5000-8000元/月` → 转换为数值均值
- 删除“面议”等无法量化的记录
- 单位统一为 “元/月”，便于后续可视化与建模

### 2. 异常值剔除
- 使用四分位距（IQR）方法去除极端高/低薪样本
- 提高统计图表的代表性与鲁棒性

### 3. 福利字段转换
- 将福利字段转化为“命中 10 项标准福利”的 0/1 值
- 统计缺失率、构建福利密度指标


## 📊 可视化设计

### 📍 城市内部分析图表

| 图表类型 | 展示内容 | 说明 |
|----------|----------|------|
| 地图热力图 + 薪资散点图 | 平均福利 + 平均薪资 | 空间结构显著性 |
| 福利缺失比例柱状图 | 10项福利缺失率 | 揭示不完善环节 |
| 岗位数量 + 薪资双轴图 | 热门岗位频度 + 薪资 | 评估供需性价比 |
| 薪资箱型图 | Top10 岗位薪资波动 | 判断稳定性与风险 |
| 热词词云图 | 高频职业词汇 | 可视化岗位热度 |
| 福利相关热力图 | 福利协同结构 | 福利偏好组合分析 |
| 3D 柱状图 | 区域 × 岗位 × 薪资 | 可旋转多维分析 |
| 火山图 | 薪资差异显著性 | 快速定位“工资断层” |
| 网络图 | 岗位-福利-区域关系 | 三元结构互动建模 |
| 聚类桑基图 | 聚类岗位 → 福利流 | 可用于匹配优化 |


### 🌆 城市间对比图表

| 图表 | 维度 | 分析目标 |
|------|------|----------|
| 平均薪资与福利象形图 | 城市 | 排名展示 |
| 福利雷达图 | 城市 × 福利项 | 六维福利分布结构 |
| 岗位-薪资-福利桑基图 | 岗位流动路径 | 城市就业链路重构 |

## 🏙 城市对比分析亮点

| 城市 | 招聘特征 | 福利结构 | 风险提示 |
|------|----------|-----------|-----------|
| 北京 | 岗位标准化强，岗位集中在安保/外卖 | 基础保障型为主，结构性缺失明显 | 薪资中位高但福利覆盖低 |
| 上海 | 岗位均衡，服务/制造并重 | 高薪+补贴并举，结构多元 | 福利组合合理，岗位稳定性高 |
| 广州 | 岗位密度高、平滑分布 | 包住包吃主导，弹性补贴丰富 | 中低薪集聚，福利带动就业 |
| 深圳 | 高绩效驱动，销售岗占主流 | 五险覆盖广，软补贴弹性大 | 工资差异极大，波动性高 |


## ⚙️ 运行方式

### 环境依赖：

```bash
pip install pandas requests bs4 parsel seaborn pyecharts plotly matplotlib wordcloud jieba scikit-learn
````

### 启动脚本示例：

```bash
python crawl_jobs_58.py      # 爬取岗位数据
python clean_salary_fields.py
python analyze_welfare_missing.py
python visualize_jobs.py     # 绘图主程序
python sankey_cluster.py     # 聚类 + 流图建模
```



## 📘 License

本项目遵循 MIT 协议，数据源来自 58 同城，仅用于研究与教学目的。严禁用于商业用途。
